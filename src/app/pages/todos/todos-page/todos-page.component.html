<section class="card todos">
  <div class="header-row">
    <button mat-icon-button color="primary" class="back-icon" (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
    </button>

    @if (user()) {
      <h2><strong>{{ user()?.name }}</strong> — Todos</h2>
    } @else {
      <h2>Todos</h2>
    }
  </div>

  @if (loading()) {
    <p>Loading…</p>
  } @else if (error()) {
    <p class="error">{{ error() }}</p>
  } @else {
    @if (todos().length > 0) {
      <ul class="todo-list">
        @for (t of todos(); track t.id) {
          <li class="todo" [class.completed]="t.completed">
            <span class="title">{{ t.title }}</span>
          </li>
        }
      </ul>
    } @else {
      <p class="muted">No Data.</p>
    }
  }
</section>
